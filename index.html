<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ú©ÙˆØªØ§Ù‡ Ú©Ù†Ù†Ø¯Ù‡ Ù„ÛŒÙ†Ú©</title>
<style>
body{
  font-family:sans-serif;
  direction:rtl;
  background:#f3f3f3;
  text-align:center;
  padding:20px;
}
input{
  width:90%;
  max-width:400px;
  padding:12px;
  font-size:14px;
  border-radius:8px;
  border:1px solid #ccc;
}
button{
  margin-top:10px;
  padding:12px 20px;
  font-size:15px;
  border:none;
  border-radius:8px;
  background:#2196f3;
  color:white;
}
.result{
  margin-top:15px;
  background:white;
  padding:12px;
  border-radius:8px;
  word-break:break-all;
}
</style>
</head>
<body>

<h3>ðŸ”— Ú©ÙˆØªØ§Ù‡ Ú©Ù†Ù†Ø¯Ù‡ Ù„ÛŒÙ†Ú© ÙˆØ§Ù‚Ø¹ÛŒ</h3>

<input id="link" placeholder="Ù„ÛŒÙ†Ú© Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">

<br>
<button onclick="shorten()">Ú©ÙˆØªØ§Ù‡ Ú©Ù†</button>

<div class="result" id="out"></div>

<script>
function shorten(){
  let url = document.getElementById("link").value.trim();
  if(!url){
    alert("Ù„ÛŒÙ†Ú© ÙˆØ§Ø±Ø¯ Ú©Ù†");
    return;
  }

  document.getElementById("out").innerHTML = "Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...";

  fetch("https://api.shrtco.de/v2/shorten?url=" + encodeURIComponent(url))
    .then(res => res.json())
    .then(data => {
      if(data.ok){
        let short = data.result.full_short_link;
        document.getElementById("out").innerHTML =
          "Ù„ÛŒÙ†Ú© Ú©ÙˆØªØ§Ù‡:<br><b>"+short+
          "</b><br><br><button onclick=\"copy('"+short+"')\">Ú©Ù¾ÛŒ</button>";
      }else{
        document.getElementById("out").innerHTML = "Ø®Ø·Ø§ Ø¯Ø± Ú©ÙˆØªØ§Ù‡ Ú©Ø±Ø¯Ù† Ù„ÛŒÙ†Ú©";
      }
    })
    .catch(()=>{
      document.getElementById("out").innerHTML = "Ø®Ø·Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ API";
    });
}

function copy(text){
  navigator.clipboard.writeText(text);
  alert("Ú©Ù¾ÛŒ Ø´Ø¯");
}
</script>

</body>
  </html>
