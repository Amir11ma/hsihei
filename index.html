<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Game</title>

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:#0b1020;
  font-family:sans-serif;
  overflow:hidden;
}

.center{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
}

.panel{
  background:rgba(0,0,0,.5);
  border:2px solid #00eaff;
  border-radius:18px;
  padding:22px;
  text-align:center;
  box-shadow:0 0 25px #00eaff;
  max-width:90%;
}

.panel h2{
  color:#00eaff;
  text-shadow:0 0 10px #00eaff;
}

.panel p{
  color:#bfefff;
  font-size:14px;
}

.btn{
  margin-top:10px;
  width:100%;
  padding:12px;
  font-size:15px;
  background:transparent;
  color:#00eaff;
  border:2px solid #00eaff;
  border-radius:12px;
  box-shadow:0 0 15px #00eaff;
  cursor:pointer;
}

.btn:active{
  background:#00eaff;
  color:#000;
}

#error{
  color:#ff6a6a;
  font-size:13px;
  margin-top:10px;
  display:none;
}

#game-container{
  display:none;
  width:100%;
  height:100%;
}

#game-container iframe{
  width:100%;
  height:100%;
  border:none;
}
</style>
</head>

<body>

<!-- ØµÙØ­Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§ -->
<div class="center" id="intro">
  <div class="panel">
    <h2>ğŸ® ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ</h2>
    <p id="status">ğŸ“± Ú¯ÙˆØ´ÛŒ Ø±Ø§ Ø§ÙÙ‚ÛŒ Ú©Ù†ÛŒØ¯</p>

    <button class="btn" id="enterGame">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ú¯ÛŒÙ…</button>
    <button class="btn" id="joinChannel">Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„</button>

    <div id="error"></div>
  </div>
</div>

<!-- Ú¯ÛŒÙ… -->
<div id="game-container">
  <iframe id="game-frame" allowfullscreen></iframe>
</div>

<script src="https://developer.eitaa.com/eitaa-web-app.js"></script>
<script>
const statusText = document.getElementById("status");
const errorBox = document.getElementById("error");

function isLandscape(){
  if (screen.orientation && typeof screen.orientation.angle === "number") {
    return screen.orientation.angle === 90 || screen.orientation.angle === 270;
  }
  return window.matchMedia("(orientation: landscape)").matches;
}

function updateStatus(){
  if(isLandscape()){
    statusText.innerText = "âœ… Ø­Ø§Ù„Øª Ø§ÙÙ‚ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª";
    errorBox.style.display = "none";
  }else{
    statusText.innerText = "âŒ Ú¯ÙˆØ´ÛŒ Ø¹Ù…ÙˆØ¯ÛŒ Ø§Ø³Øª";
  }
}

setInterval(updateStatus, 500);

// ÙÙˆÙ„ Ø§Ø³Ú©Ø±ÛŒÙ† Ø§ÛŒØªØ§
function enableEitaa(){
  if(window.Eitaa && Eitaa.WebApp){
    Eitaa.WebApp.expand();
    if(Eitaa.WebApp.requestFullscreen) Eitaa.WebApp.requestFullscreen();
  }
}
document.addEventListener("touchstart", enableEitaa, {once:true});

// ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ú¯ÛŒÙ… (Ù‡Ù…ÙˆÙ† Ú¯ÛŒÙ…ÛŒ Ú©Ù‡ Ø®ÙˆØ¯Øª Ø¯Ø§Ø¯ÛŒ)
document.getElementById("enterGame").onclick = ()=>{
  if(!isLandscape()){
    errorBox.innerText = "âš ï¸ ØªØ§ Ø§ÙÙ‚ÛŒ Ù†Ø´Ù‡ Ú¯ÛŒÙ… Ø¨Ø§Ø² Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯";
    errorBox.style.display = "block";
    return;
  }

  document.getElementById("intro").style.display="none";
  document.getElementById("game-container").style.display="block";
  document.getElementById("game-frame").src =
    "https://www.madkidgames.com/full/jungle-hill-climb-racing";
};

// Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„
document.getElementById("joinChannel").onclick = ()=>{
  if(window.Eitaa && Eitaa.WebApp && Eitaa.WebApp.openEitaaLink){
    Eitaa.WebApp.openEitaaLink("https://eitaa.com/BGMSTUDI");
  }else{
    alert("ÙÙ‚Ø· Ø¯Ø§Ø®Ù„ Ø§ÛŒØªØ§ Ø¨Ø§Ø² Ù…ÛŒâ€ŒØ´ÙˆØ¯");
  }
};
</script>

</body>
</html>
