<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¨Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡ ØªØµÙˆÛŒØ±ÛŒ</title>

<!-- ÙÙˆÙ†Øª -->
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet">

<style>
body{
  margin:0; padding:0; font-family: Vazir, sans-serif; background: #121621; color:#fff; display:flex; flex-direction:column; align-items:center;
}
.loader{
  position:fixed; inset:0; background:#121621; display:flex; justify-content:center; align-items:center; flex-direction:column; z-index:999;
}
.loader h1{
  color:#00bfff; text-shadow:0 0 10px #2760fe; margin-bottom:20px;
}
.loader span{
  display:inline-block; width:50px; height:50px; border-radius:50%; background:linear-gradient(45deg,#2760fe,#2f71ff);
  margin:5px; animation:spin 1s linear infinite;
}
@keyframes spin{
  0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);}
}

.game-container{
  display:none; margin-top:20px; text-align:center;
}
.grid{
  display:grid; grid-template-columns: repeat(4, 80px); gap:15px; justify-content:center; margin-bottom:20px;
}
.card{
  width:80px; height:80px; background:#222; border-radius:12px; display:flex; justify-content:center; align-items:center;
  font-size:32px; cursor:pointer; user-select:none; transition:0.3s;
}
.card.flipped{
  background:#00bfff; color:#121621;
}
button{
  padding:10px 20px; font-size:16px; border:none; border-radius:10px; cursor:pointer; background:#00bfff; color:#121621; font-weight:bold;
  transition:0.3s;
}
button:hover{background:#2760fe;}
</style>
</head>
<body>

<!-- Ù„ÙˆØ¯Ø± -->
<div class="loader" id="loader">
  <h1>Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§Ø²ÛŒ...</h1>
  <div><span></span><span></span><span></span></div>
</div>

<div class="game-container" id="game">
  <div class="grid" id="grid"></div>
  <button onclick="startGame()">Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ¨Ø§Ø±Ù‡</button>
</div>

<script>
const symbols = ['ğŸ','ğŸŒ','ğŸ‡','ğŸ‰','ğŸ“','ğŸ’','ğŸ¥','ğŸ'];
let cards=[], first=null, second=null, lock=false;

function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}

function createGrid(){
  const grid=document.getElementById('grid');
  grid.innerHTML='';
  cards = shuffle([...symbols,...symbols]);
  cards.forEach((sym,index)=>{
    const card=document.createElement('div');
    card.className='card';
    card.dataset.symbol=sym;
    card.innerText='';
    card.addEventListener('click',flipCard);
    grid.appendChild(card);
  });
}

function showAllTemp(){
  document.querySelectorAll('.card').forEach(c=>{
    c.innerText=c.dataset.symbol; 
    c.classList.add('flipped');
  });
  setTimeout(()=>{document.querySelectorAll('.card').forEach(c=>{
    c.innerText=''; c.classList.remove('flipped');
  }); lock=false;}, 2000);
}

function flipCard(){
  if(lock || this.classList.contains('flipped')) return;
  this.classList.add('flipped');
  this.innerText=this.dataset.symbol;

  if(!first) first=this;
  else if(!second){
    second=this;
    if(first.dataset.symbol===second.dataset.symbol){
      first=second=null;
    } else {
      lock=true;
      setTimeout(()=>{
        first.innerText=''; first.classList.remove('flipped');
        second.innerText=''; second.classList.remove('flipped');
        first=second=null;
        lock=false;
      },1000);
    }
  }
}

function startGame(){
  createGrid();
  showAllTemp();
}

// Ù†Ù…Ø§ÛŒØ´ Ù„ÙˆØ¯Ø± Ùˆ Ø³Ù¾Ø³ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
window.addEventListener('load', ()=>{
  setTimeout(()=>{
    document.getElementById('loader').style.display='none';
    const gameDiv=document.getElementById('game');
    gameDiv.style.display='block';
    startGame();
  }, 2500);
});
</script>

</body>
</html>
